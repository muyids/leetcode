# [1441.用栈操作构建数组](https://leetcode.cn/problems/build-an-array-with-stack-operations/)

<p>给你一个数组 <code>target</code> 和一个整数 <code>n</code>。每次迭代，需要从&nbsp; <code>list = { 1 , 2 , 3 ..., n }</code> 中依次读取一个数字。</p>

<p>请使用下述操作来构建目标数组 <code>target</code> ：</p>

<ul>
	<li><code>"Push"</code>：从 <code>list</code> 中读取一个新元素， 并将其推入数组中。</li>
	<li><code>"Pop"</code>：删除数组中的最后一个元素。</li>
	<li>如果目标数组构建完成，就停止读取更多元素。</li>
</ul>

<p>题目数据保证目标数组严格递增，并且只包含 <code>1</code> 到 <code>n</code> 之间的数字。</p>

<p>请返回构建目标数组所用的操作序列。如果存在多个可行方案，返回任一即可。</p>

<p>&nbsp;</p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>target = [1,3], n = 3
<strong>输出：</strong>["Push","Push","Pop","Push"]
<strong>解释： 
</strong>读取 1 并自动推入数组 -&gt; [1]
读取 2 并自动推入数组，然后删除它 -&gt; [1]
读取 3 并自动推入数组 -&gt; [1,3]
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>target = [1,2,3], n = 3
<strong>输出：</strong>["Push","Push","Push"]
</pre>

<p><strong>示例 3：</strong></p>

<pre>
<strong>输入：</strong>target = [1,2], n = 4
<strong>输出：</strong>["Push","Push"]
<strong>解释：</strong>只需要读取前 2 个数字就可以停止。
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>1 &lt;= target.length &lt;= 100</code></li>
	<li><code>1 &lt;= n &lt;= 100</code></li>
	<li><code>1 &lt;= target[i] &lt;= n</code></li>
	<li><code>target</code> 严格递增</li>
</ul>


<details>
<summary>标签：</summary>
['栈', '数组', '模拟']
</details>

<details>
<summary>难度：Medium</summary>
喜欢：85
</details>


----------

# 栈+滑动窗口

## 算法思路

- 从 1 - n 每个元素首先都要入栈，不存在的元素还需要进行出栈操作
- 因为 目标数组严格递增，我们可以用滑动窗口来模拟 list 的迭代过程；右端点 r 表示 当前读取的数字 ，左端点表示 当前数组 target中 读到的元素，宕 $target[l]$ 和 $r$ 不相等时，表示 r 需要出栈，相等时，target需要移动到下一个元素 ，即 $l++$

## 复杂度分析

时间复杂度：$O(n)$

空间复杂度：$O(n)$

## 代码实现

```cpp []

```

```java []
class Solution {
    public List<String> buildArray(int[] target, int n) {
        List<String> res = new ArrayList<>();
        int l = 0, r = 0;
        while (l < target.length && r <= n) {
            r++;
            res.add("Push");
            if (l < target.length && target[l] != r) res.add("Pop");
            else l++;
        }
        return res;
    }
}
```

## 参考文献

